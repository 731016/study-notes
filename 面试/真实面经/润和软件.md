## 介绍

人力外包到长飞光纤

实施+后端+前端

## 设计模式

### **门面模式**

提供一个统一的接口

如果系统需要暴露3个接口给别人系统使用，可以考虑封装成一个接口

比如出入库信息，生产工单等

### 建造者模式

复杂对象的构建，一步一步的构建

比如生成报表对象，

需要一个报表信息对象、生成器、生成器上下文；

生成器上下文负责查询数据，填充到生成器上下文中，生成器负责处理数据成为报表数据到报表信息对象



## **主要介绍业务**

### 生产工单

车间人员下发生产指令到底层数采系统（信息包括牌号等信息），数采系统解析后返回工单号，机台，批次等信息，mes生成生产工单；

产量分为数采产量和车间人员填写的实际的产量，可能有抽检或其他用途和数采系统有出入

工单状态通过数采系统反馈

由车间人员通过每个牌号的产量确认单填写，可能有各个工序的不同的数量

### 出入库

生产牌号需要的物料的库存管理，主要负责专注于物料从收货->检验->出库投入生产这个流程的控制
收货需要创建在MES创建入库单，由WMS物流管理平台发送数据到MES，进行收货；MES校验货物信息（货物数量）后，根据物料的检验标准创建报检单进行抽检，抽检合格后入库

### 检验工单

通过维护牌号工艺标准或生产牌号的原料的检验信息，如烟丝的烘丝温度，接装纸的抗张拉力强度

通过生产工单和检验标准创建检验工单进行检验，现场使用检查仪器，数采数据通过开发的net桌面程序，通过udp、tcp、opc、串口通信上传至检验工单

### 数据采集

监控数采数据，计算CPK,PPK..质量参数，生成监控图形

通过创建的工艺标准下发的数采底层系统，PLC通过OPC协议上传至Wonderware数据库，包含牌号，批次，工单号等信息

通过kafka采集Wonderware数据库的实时数据，并处理计算需要的数据，通过websocket推送至前台展示实时监控图形
